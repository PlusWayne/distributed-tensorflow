2019-09-08 23:11:01.208677: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1
2019-09-08 23:11:01.339801: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:0e:00.0
2019-09-08 23:11:01.340113: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:01.341498: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:01.342709: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:01.343005: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:01.344615: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:01.345804: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:01.349608: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:01.354527: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:01.354894: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-09-08 23:11:01.363576: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2400160000 Hz
2019-09-08 23:11:01.364829: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55a3b6b3ed50 executing computations on platform Host. Devices:
2019-09-08 23:11:01.364856: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version
2019-09-08 23:11:02.486228: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55a3b6ba1c90 executing computations on platform CUDA. Devices:
2019-09-08 23:11:02.486271: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Tesla P40, Compute Capability 6.1
2019-09-08 23:11:02.488626: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:0e:00.0
2019-09-08 23:11:02.488682: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:02.488702: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:02.488716: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:02.488731: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:02.488747: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:02.488762: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:02.488778: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:02.492880: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:02.492921: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:02.495587: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:02.495605: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:02.495612: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:02.500820: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 23082 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:0e:00.0, compute capability: 6.1)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f57c0c14940>>
I0908 23:11:02.503959 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f57c0c14940>>
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
W0908 23:11:03.301678 140017322010432 deprecation.py:323] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
W0908 23:11:03.968272 140017322010432 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
W0908 23:11:07.872915 140017322010432 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
I0908 23:11:07.924265 140017322010432 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:07.924496 140017322010432 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:07.924572 140017322010432 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56f4343128>>
I0908 23:11:07.925345 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56f4343128>>
INFO:tensorflow:Starting standard TensorFlow server, target = 'grpc://9.73.165.158:1114', session_config= allow_soft_placement: true

I0908 23:11:07.925598 140017322010432 distribute_coordinator.py:438] Starting standard TensorFlow server, target = 'grpc://9.73.165.158:1114', session_config= allow_soft_placement: true

2019-09-08 23:11:07.928767: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:0e:00.0
2019-09-08 23:11:07.928841: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:07.928862: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:07.928884: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:07.928904: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:07.928920: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:07.928936: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:07.928952: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:07.933010: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:07.933067: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:07.933080: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:07.933087: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:07.938336: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:worker/replica:0/task:2/device:GPU:0 with 23082 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:0e:00.0, compute capability: 6.1)
2019-09-08 23:11:07.940244: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job ps -> {0 -> 9.73.165.158:1111}
2019-09-08 23:11:07.940271: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job worker -> {0 -> 9.73.165.158:1112, 1 -> 9.73.165.158:1113, 2 -> localhost:1114, 3 -> 9.73.136.185:1111, 4 -> 9.73.136.185:1112, 5 -> 9.73.136.185:1113, 6 -> 9.73.136.185:1114, 7 -> 9.73.169.29:1111, 8 -> 9.73.169.29:1112, 9 -> 9.73.169.29:1113, 10 -> 9.73.169.29:1114, 11 -> 9.73.165.16:1111, 12 -> 9.73.165.16:1112, 13 -> 9.73.165.16:1113, 14 -> 9.73.165.16:1114}
2019-09-08 23:11:07.942728: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:365] Started server with target: grpc://localhost:1114
2019-09-08 23:11:07.942762: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:369] Server already started (target: grpc://localhost:1114)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56f4343400>>
I0908 23:11:07.943525 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56f4343400>>
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
I0908 23:11:08.738243 140017322010432 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:08.738456 140017322010432 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:08.738534 140017322010432 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450d6a0>>
I0908 23:11:08.739179 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450d6a0>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450d470>>
I0908 23:11:08.739858 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450d470>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0908 23:11:08.740185 140017322010432 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-08 23:11:10.259007: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:10.259316: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.182143 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.183664 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.184576 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.185486 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.186403 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.187315 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.188230 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.189166 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.190080 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.190982 140017322010432 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
2019-09-08 23:11:19.515932: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:19.516237: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

2019-09-08 23:11:25.294076: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:26.681355: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
INFO:tensorflow:BenchmarkMetric: {'global step':100, 'time_taken': 62.129043,'examples_per_second': 51.505703}
I0908 23:12:23.551186 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':100, 'time_taken': 62.129043,'examples_per_second': 51.505703}
INFO:tensorflow:BenchmarkMetric: {'global step':200, 'time_taken': 55.943617,'examples_per_second': 57.200449}
I0908 23:13:19.494768 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':200, 'time_taken': 55.943617,'examples_per_second': 57.200449}
INFO:tensorflow:BenchmarkMetric: {'global step':300, 'time_taken': 56.752769,'examples_per_second': 56.384914}
I0908 23:14:16.247616 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':300, 'time_taken': 56.752769,'examples_per_second': 56.384914}
INFO:tensorflow:BenchmarkMetric: {'global step':400, 'time_taken': 55.209435,'examples_per_second': 57.961108}
I0908 23:15:11.456980 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':400, 'time_taken': 55.209435,'examples_per_second': 57.961108}
INFO:tensorflow:BenchmarkMetric: {'global step':500, 'time_taken': 56.022631,'examples_per_second': 57.119773}
I0908 23:16:07.479611 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':500, 'time_taken': 56.022631,'examples_per_second': 57.119773}
INFO:tensorflow:BenchmarkMetric: {'global step':600, 'time_taken': 55.964443,'examples_per_second': 57.179162}
I0908 23:17:03.444049 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':600, 'time_taken': 55.964443,'examples_per_second': 57.179162}
INFO:tensorflow:BenchmarkMetric: {'global step':700, 'time_taken': 57.005892,'examples_per_second': 56.134549}
I0908 23:18:00.449950 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':700, 'time_taken': 57.005892,'examples_per_second': 56.134549}
INFO:tensorflow:BenchmarkMetric: {'global step':800, 'time_taken': 58.652215,'examples_per_second': 54.558894}
I0908 23:18:59.102167 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':800, 'time_taken': 58.652215,'examples_per_second': 54.558894}
INFO:tensorflow:BenchmarkMetric: {'global step':900, 'time_taken': 56.675730,'examples_per_second': 56.461557}
I0908 23:19:55.777904 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':900, 'time_taken': 56.675730,'examples_per_second': 56.461557}
INFO:tensorflow:BenchmarkMetric: {'global step':1000, 'time_taken': 56.478938,'examples_per_second': 56.658289}
I0908 23:20:52.256820 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1000, 'time_taken': 56.478938,'examples_per_second': 56.658289}
INFO:tensorflow:BenchmarkMetric: {'global step':1100, 'time_taken': 56.062320,'examples_per_second': 57.079336}
I0908 23:21:48.319201 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1100, 'time_taken': 56.062320,'examples_per_second': 57.079336}
INFO:tensorflow:BenchmarkMetric: {'global step':1200, 'time_taken': 58.863606,'examples_per_second': 54.362963}
I0908 23:22:47.182795 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1200, 'time_taken': 58.863606,'examples_per_second': 54.362963}
INFO:tensorflow:BenchmarkMetric: {'global step':1300, 'time_taken': 56.998991,'examples_per_second': 56.141345}
I0908 23:23:44.181737 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1300, 'time_taken': 56.998991,'examples_per_second': 56.141345}
INFO:tensorflow:BenchmarkMetric: {'global step':1400, 'time_taken': 55.074571,'examples_per_second': 58.103040}
I0908 23:24:39.256310 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1400, 'time_taken': 55.074571,'examples_per_second': 58.103040}
INFO:tensorflow:BenchmarkMetric: {'global step':1500, 'time_taken': 56.819463,'examples_per_second': 56.318730}
I0908 23:25:36.075781 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1500, 'time_taken': 56.819463,'examples_per_second': 56.318730}
INFO:tensorflow:BenchmarkMetric: {'global step':1600, 'time_taken': 56.182935,'examples_per_second': 56.956797}
I0908 23:26:32.258699 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1600, 'time_taken': 56.182935,'examples_per_second': 56.956797}
INFO:tensorflow:BenchmarkMetric: {'global step':1700, 'time_taken': 54.941585,'examples_per_second': 58.243678}
I0908 23:27:27.200327 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1700, 'time_taken': 54.941585,'examples_per_second': 58.243678}
INFO:tensorflow:BenchmarkMetric: {'global step':1800, 'time_taken': 53.634386,'examples_per_second': 59.663217}
I0908 23:28:20.834816 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1800, 'time_taken': 53.634386,'examples_per_second': 59.663217}
INFO:tensorflow:BenchmarkMetric: {'global step':1900, 'time_taken': 54.319583,'examples_per_second': 58.910614}
I0908 23:29:15.154266 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':1900, 'time_taken': 54.319583,'examples_per_second': 58.910614}
INFO:tensorflow:BenchmarkMetric: {'global step':2000, 'time_taken': 57.103549,'examples_per_second': 56.038548}
I0908 23:30:12.257834 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2000, 'time_taken': 57.103549,'examples_per_second': 56.038548}
INFO:tensorflow:BenchmarkMetric: {'global step':2100, 'time_taken': 56.674195,'examples_per_second': 56.463087}
I0908 23:31:08.932016 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2100, 'time_taken': 56.674195,'examples_per_second': 56.463087}
INFO:tensorflow:BenchmarkMetric: {'global step':2200, 'time_taken': 55.020547,'examples_per_second': 58.160091}
I0908 23:32:03.952662 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2200, 'time_taken': 55.020547,'examples_per_second': 58.160091}
INFO:tensorflow:BenchmarkMetric: {'global step':2300, 'time_taken': 53.671225,'examples_per_second': 59.622265}
I0908 23:32:57.623839 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2300, 'time_taken': 53.671225,'examples_per_second': 59.622265}
INFO:tensorflow:BenchmarkMetric: {'global step':2400, 'time_taken': 55.261545,'examples_per_second': 57.906452}
I0908 23:33:52.885394 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2400, 'time_taken': 55.261545,'examples_per_second': 57.906452}
INFO:tensorflow:BenchmarkMetric: {'global step':2500, 'time_taken': 56.914482,'examples_per_second': 56.224706}
I0908 23:34:49.799818 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2500, 'time_taken': 56.914482,'examples_per_second': 56.224706}
INFO:tensorflow:BenchmarkMetric: {'global step':2600, 'time_taken': 55.985291,'examples_per_second': 57.157870}
I0908 23:35:45.785110 140017322010432 keras_utils.py:85] BenchmarkMetric: {'global step':2600, 'time_taken': 55.985291,'examples_per_second': 57.157870}
WARNING:tensorflow:Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
W0908 23:46:18.274970 140017322010432 training_arrays.py:330] Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
INFO:tensorflow:BenchmarkMetric: {'epoch':0, 'time_taken': 2096.856090}
I0908 23:46:18.278097 140017322010432 keras_utils.py:93] BenchmarkMetric: {'epoch':0, 'time_taken': 2096.856090}
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
I0908 23:46:18.279892 140017322010432 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:46:18.280085 140017322010432 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:46:18.280201 140017322010432 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450da20>>
I0908 23:46:18.281275 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f56d450da20>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f5648334b70>>
I0908 23:46:18.282482 140017322010432 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 2, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:2/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f5648334b70>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0908 23:46:18.283144 140017322010432 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-08 23:46:20.082588: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:46:20.086714: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

WARNING:tensorflow:Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
W0908 23:55:18.682074 140017322010432 training_arrays.py:314] Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
I0908 23:55:18.684529 140017322010432 resnet_imagenet_main_dist_ps_3.py:293] Run stats:
{'accuracy_top_1': 0.007367886137217283, 'eval_loss': 11.969885777267084, 'loss': 12.196044648528858, 'training_accuracy_top_1': 0.0017000215593725443, 'step_timestamp_log': ['BatchTimestamp<batch_index: 1, timestamp: 1567955481.422045>', 'BatchTimestamp<batch_index: 100, timestamp: 1567955543.5510876>', 'BatchTimestamp<batch_index: 200, timestamp: 1567955599.4947045>', 'BatchTimestamp<batch_index: 300, timestamp: 1567955656.2474732>', 'BatchTimestamp<batch_index: 400, timestamp: 1567955711.456908>', 'BatchTimestamp<batch_index: 500, timestamp: 1567955767.4795392>', 'BatchTimestamp<batch_index: 600, timestamp: 1567955823.4439826>', 'BatchTimestamp<batch_index: 700, timestamp: 1567955880.4498744>', 'BatchTimestamp<batch_index: 800, timestamp: 1567955939.10209>', 'BatchTimestamp<batch_index: 900, timestamp: 1567955995.7778203>', 'BatchTimestamp<batch_index: 1000, timestamp: 1567956052.2567585>', 'BatchTimestamp<batch_index: 1100, timestamp: 1567956108.3190784>', 'BatchTimestamp<batch_index: 1200, timestamp: 1567956167.1826842>', 'BatchTimestamp<batch_index: 1300, timestamp: 1567956224.181675>', 'BatchTimestamp<batch_index: 1400, timestamp: 1567956279.2562463>', 'BatchTimestamp<batch_index: 1500, timestamp: 1567956336.075709>', 'BatchTimestamp<batch_index: 1600, timestamp: 1567956392.2586439>', 'BatchTimestamp<batch_index: 1700, timestamp: 1567956447.200229>', 'BatchTimestamp<batch_index: 1800, timestamp: 1567956500.8346145>', 'BatchTimestamp<batch_index: 1900, timestamp: 1567956555.1541977>', 'BatchTimestamp<batch_index: 2000, timestamp: 1567956612.2577472>', 'BatchTimestamp<batch_index: 2100, timestamp: 1567956668.9319425>', 'BatchTimestamp<batch_index: 2200, timestamp: 1567956723.9524891>', 'BatchTimestamp<batch_index: 2300, timestamp: 1567956777.6237144>', 'BatchTimestamp<batch_index: 2400, timestamp: 1567956832.8852596>', 'BatchTimestamp<batch_index: 2500, timestamp: 1567956889.7997415>', 'BatchTimestamp<batch_index: 2600, timestamp: 1567956945.785033>'], 'train_finish_time': 1567957578.2786064, 'avg_exp_per_second': 56.81651385761171}
Exception ignored in: <bound method Server.__del__ of <tensorflow.python.training.server_lib.Server object at 0x7f584caa7860>>
Traceback (most recent call last):
  File "/root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/training/server_lib.py", line 158, in __del__
AttributeError: 'NoneType' object has no attribute 'UnimplementedError'
