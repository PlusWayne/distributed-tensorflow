2019-09-08 23:11:06.036654: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1
2019-09-08 23:11:06.122408: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:07:00.0
2019-09-08 23:11:06.122638: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:06.133056: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:06.145275: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:06.148999: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:06.176506: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:06.194284: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:06.243369: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:06.249067: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:06.249959: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-09-08 23:11:06.270973: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2199870000 Hz
2019-09-08 23:11:06.277503: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x556a2ea36910 executing computations on platform Host. Devices:
2019-09-08 23:11:06.277532: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version
2019-09-08 23:11:10.222424: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x556a2ea99b40 executing computations on platform CUDA. Devices:
2019-09-08 23:11:10.222489: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Tesla P40, Compute Capability 6.1
2019-09-08 23:11:10.225443: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:07:00.0
2019-09-08 23:11:10.225520: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:10.225551: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:10.225576: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:10.225601: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:10.225625: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:10.225649: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:10.225674: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:10.230991: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:10.231488: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:10.235217: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:10.235251: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:10.235266: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:10.241980: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 23080 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:07:00.0, compute capability: 6.1)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f8973c85940>>
I0908 23:11:10.248285 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f8973c85940>>
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
W0908 23:11:11.117592 140231449503552 deprecation.py:323] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
W0908 23:11:11.807248 140231449503552 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
W0908 23:11:15.644219 140231449503552 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
I0908 23:11:15.697161 140231449503552 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:15.697484 140231449503552 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:15.697734 140231449503552 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88b0384940>>
I0908 23:11:15.698737 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88b0384940>>
INFO:tensorflow:Starting standard TensorFlow server, target = 'grpc://9.73.169.29:1112', session_config= allow_soft_placement: true

I0908 23:11:15.699095 140231449503552 distribute_coordinator.py:438] Starting standard TensorFlow server, target = 'grpc://9.73.169.29:1112', session_config= allow_soft_placement: true

2019-09-08 23:11:15.702476: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:07:00.0
2019-09-08 23:11:15.702546: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:15.702621: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:15.702708: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:15.702797: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:15.702881: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:15.702917: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:15.702941: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:15.707456: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:15.707493: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:15.707565: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:15.707571: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:15.712987: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:worker/replica:0/task:8/device:GPU:0 with 23080 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:07:00.0, compute capability: 6.1)
2019-09-08 23:11:15.715276: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job ps -> {0 -> 9.73.165.158:1111}
2019-09-08 23:11:15.715302: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job worker -> {0 -> 9.73.165.158:1112, 1 -> 9.73.165.158:1113, 2 -> 9.73.165.158:1114, 3 -> 9.73.136.185:1111, 4 -> 9.73.136.185:1112, 5 -> 9.73.136.185:1113, 6 -> 9.73.136.185:1114, 7 -> 9.73.169.29:1111, 8 -> localhost:1112, 9 -> 9.73.169.29:1113, 10 -> 9.73.169.29:1114, 11 -> 9.73.165.16:1111, 12 -> 9.73.165.16:1112, 13 -> 9.73.165.16:1113, 14 -> 9.73.165.16:1114}
2019-09-08 23:11:15.721983: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:365] Started server with target: grpc://localhost:1112
2019-09-08 23:11:15.722015: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:369] Server already started (target: grpc://localhost:1112)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88b0384d68>>
I0908 23:11:15.722696 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88b0384d68>>
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
I0908 23:11:16.408731 140231449503552 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:16.408968 140231449503552 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:16.409048 140231449503552 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88904fbcf8>>
I0908 23:11:16.409722 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88904fbcf8>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88904fbe48>>
I0908 23:11:16.410417 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88904fbe48>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0908 23:11:16.410743 140231449503552 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-08 23:11:17.901469: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:17.901835: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.228290 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.229991 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.231085 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.232128 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.233167 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.234192 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.235261 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.236303 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.237361 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.238414 140231449503552 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
2019-09-08 23:11:25.392880: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:25.393213: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

2019-09-08 23:11:31.361967: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:33.819443: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
INFO:tensorflow:BenchmarkMetric: {'global step':100, 'time_taken': 101.728034,'examples_per_second': 31.456422}
I0908 23:13:08.812263 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':100, 'time_taken': 101.728034,'examples_per_second': 31.456422}
INFO:tensorflow:BenchmarkMetric: {'global step':200, 'time_taken': 97.746885,'examples_per_second': 32.737616}
I0908 23:14:46.559102 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':200, 'time_taken': 97.746885,'examples_per_second': 32.737616}
INFO:tensorflow:BenchmarkMetric: {'global step':300, 'time_taken': 97.367176,'examples_per_second': 32.865285}
I0908 23:16:23.926268 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':300, 'time_taken': 97.367176,'examples_per_second': 32.865285}
INFO:tensorflow:BenchmarkMetric: {'global step':400, 'time_taken': 101.586919,'examples_per_second': 31.500119}
I0908 23:18:05.513209 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':400, 'time_taken': 101.586919,'examples_per_second': 31.500119}
INFO:tensorflow:BenchmarkMetric: {'global step':500, 'time_taken': 92.446584,'examples_per_second': 34.614583}
I0908 23:19:37.959775 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':500, 'time_taken': 92.446584,'examples_per_second': 34.614583}
INFO:tensorflow:BenchmarkMetric: {'global step':600, 'time_taken': 100.602463,'examples_per_second': 31.808366}
I0908 23:21:18.562237 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':600, 'time_taken': 100.602463,'examples_per_second': 31.808366}
INFO:tensorflow:BenchmarkMetric: {'global step':700, 'time_taken': 101.015438,'examples_per_second': 31.678326}
I0908 23:22:59.577699 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':700, 'time_taken': 101.015438,'examples_per_second': 31.678326}
INFO:tensorflow:BenchmarkMetric: {'global step':800, 'time_taken': 100.680542,'examples_per_second': 31.783698}
I0908 23:24:40.258242 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':800, 'time_taken': 100.680542,'examples_per_second': 31.783698}
INFO:tensorflow:BenchmarkMetric: {'global step':900, 'time_taken': 101.605511,'examples_per_second': 31.494355}
I0908 23:26:21.863756 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':900, 'time_taken': 101.605511,'examples_per_second': 31.494355}
INFO:tensorflow:BenchmarkMetric: {'global step':1000, 'time_taken': 97.946719,'examples_per_second': 32.670824}
I0908 23:27:59.810452 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1000, 'time_taken': 97.946719,'examples_per_second': 32.670824}
INFO:tensorflow:BenchmarkMetric: {'global step':1100, 'time_taken': 106.286491,'examples_per_second': 30.107307}
I0908 23:29:46.096945 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1100, 'time_taken': 106.286491,'examples_per_second': 30.107307}
INFO:tensorflow:BenchmarkMetric: {'global step':1200, 'time_taken': 107.674901,'examples_per_second': 29.719089}
I0908 23:31:33.771861 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1200, 'time_taken': 107.674901,'examples_per_second': 29.719089}
INFO:tensorflow:BenchmarkMetric: {'global step':1300, 'time_taken': 108.730010,'examples_per_second': 29.430697}
I0908 23:33:22.501855 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1300, 'time_taken': 108.730010,'examples_per_second': 29.430697}
INFO:tensorflow:BenchmarkMetric: {'global step':1400, 'time_taken': 107.152450,'examples_per_second': 29.863993}
I0908 23:35:09.654305 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1400, 'time_taken': 107.152450,'examples_per_second': 29.863993}
INFO:tensorflow:BenchmarkMetric: {'global step':1500, 'time_taken': 96.797277,'examples_per_second': 33.058781}
I0908 23:36:46.451598 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1500, 'time_taken': 96.797277,'examples_per_second': 33.058781}
INFO:tensorflow:BenchmarkMetric: {'global step':1600, 'time_taken': 94.092328,'examples_per_second': 34.009149}
I0908 23:38:20.543937 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1600, 'time_taken': 94.092328,'examples_per_second': 34.009149}
INFO:tensorflow:BenchmarkMetric: {'global step':1700, 'time_taken': 99.072237,'examples_per_second': 32.299664}
I0908 23:39:59.616163 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1700, 'time_taken': 99.072237,'examples_per_second': 32.299664}
INFO:tensorflow:BenchmarkMetric: {'global step':1800, 'time_taken': 97.846542,'examples_per_second': 32.704273}
I0908 23:41:37.462700 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1800, 'time_taken': 97.846542,'examples_per_second': 32.704273}
INFO:tensorflow:BenchmarkMetric: {'global step':1900, 'time_taken': 99.111217,'examples_per_second': 32.286961}
I0908 23:43:16.573923 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':1900, 'time_taken': 99.111217,'examples_per_second': 32.286961}
INFO:tensorflow:BenchmarkMetric: {'global step':2000, 'time_taken': 97.169713,'examples_per_second': 32.932072}
I0908 23:44:53.743652 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2000, 'time_taken': 97.169713,'examples_per_second': 32.932072}
INFO:tensorflow:BenchmarkMetric: {'global step':2100, 'time_taken': 92.082753,'examples_per_second': 34.751350}
I0908 23:46:25.826371 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2100, 'time_taken': 92.082753,'examples_per_second': 34.751350}
INFO:tensorflow:BenchmarkMetric: {'global step':2200, 'time_taken': 100.959175,'examples_per_second': 31.695980}
I0908 23:48:06.785545 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2200, 'time_taken': 100.959175,'examples_per_second': 31.695980}
INFO:tensorflow:BenchmarkMetric: {'global step':2300, 'time_taken': 98.568572,'examples_per_second': 32.464709}
I0908 23:49:45.354125 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2300, 'time_taken': 98.568572,'examples_per_second': 32.464709}
INFO:tensorflow:BenchmarkMetric: {'global step':2400, 'time_taken': 97.492467,'examples_per_second': 32.823049}
I0908 23:51:22.846584 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2400, 'time_taken': 97.492467,'examples_per_second': 32.823049}
INFO:tensorflow:BenchmarkMetric: {'global step':2500, 'time_taken': 97.078735,'examples_per_second': 32.962935}
I0908 23:52:59.925320 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2500, 'time_taken': 97.078735,'examples_per_second': 32.962935}
INFO:tensorflow:BenchmarkMetric: {'global step':2600, 'time_taken': 93.253299,'examples_per_second': 34.315140}
I0908 23:54:33.178619 140231449503552 keras_utils.py:85] BenchmarkMetric: {'global step':2600, 'time_taken': 93.253299,'examples_per_second': 34.315140}
WARNING:tensorflow:Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
W0909 00:08:04.682495 140231449503552 training_arrays.py:330] Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
INFO:tensorflow:BenchmarkMetric: {'epoch':0, 'time_taken': 3397.601600}
I0909 00:08:04.685642 140231449503552 keras_utils.py:93] BenchmarkMetric: {'epoch':0, 'time_taken': 3397.601600}
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
I0909 00:08:04.687056 140231449503552 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0909 00:08:04.687194 140231449503552 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0909 00:08:04.687270 140231449503552 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88102d0160>>
I0909 00:08:04.687978 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f88102d0160>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f8810322710>>
I0909 00:08:04.688687 140231449503552 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 8, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:8/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f8810322710>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0909 00:08:04.689023 140231449503552 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-09 00:08:05.776756: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-09 00:08:05.777172: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

WARNING:tensorflow:Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
W0909 00:20:47.320724 140231449503552 training_arrays.py:314] Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
I0909 00:20:47.323156 140231449503552 resnet_imagenet_main_dist_ps_9.py:293] Run stats:
{'accuracy_top_1': 0.0071304780431091785, 'eval_loss': 11.856006149751124, 'loss': 12.127011065449148, 'training_accuracy_top_1': 0.004372866824269295, 'step_timestamp_log': ['BatchTimestamp<batch_index: 1, timestamp: 1567955487.0841258>', 'BatchTimestamp<batch_index: 100, timestamp: 1567955588.81216>', 'BatchTimestamp<batch_index: 200, timestamp: 1567955686.5590453>', 'BatchTimestamp<batch_index: 300, timestamp: 1567955783.9262211>', 'BatchTimestamp<batch_index: 400, timestamp: 1567955885.5131397>', 'BatchTimestamp<batch_index: 500, timestamp: 1567955977.9597237>', 'BatchTimestamp<batch_index: 600, timestamp: 1567956078.5621865>', 'BatchTimestamp<batch_index: 700, timestamp: 1567956179.5776248>', 'BatchTimestamp<batch_index: 800, timestamp: 1567956280.2581673>', 'BatchTimestamp<batch_index: 900, timestamp: 1567956381.8636785>', 'BatchTimestamp<batch_index: 1000, timestamp: 1567956479.8103974>', 'BatchTimestamp<batch_index: 1100, timestamp: 1567956586.0968883>', 'BatchTimestamp<batch_index: 1200, timestamp: 1567956693.7717896>', 'BatchTimestamp<batch_index: 1300, timestamp: 1567956802.501799>', 'BatchTimestamp<batch_index: 1400, timestamp: 1567956909.6542487>', 'BatchTimestamp<batch_index: 1500, timestamp: 1567957006.4515257>', 'BatchTimestamp<batch_index: 1600, timestamp: 1567957100.5438538>', 'BatchTimestamp<batch_index: 1700, timestamp: 1567957199.6160905>', 'BatchTimestamp<batch_index: 1800, timestamp: 1567957297.4626322>', 'BatchTimestamp<batch_index: 1900, timestamp: 1567957396.5738492>', 'BatchTimestamp<batch_index: 2000, timestamp: 1567957493.743562>', 'BatchTimestamp<batch_index: 2100, timestamp: 1567957585.826315>', 'BatchTimestamp<batch_index: 2200, timestamp: 1567957686.7854903>', 'BatchTimestamp<batch_index: 2300, timestamp: 1567957785.3540623>', 'BatchTimestamp<batch_index: 2400, timestamp: 1567957882.8465292>', 'BatchTimestamp<batch_index: 2500, timestamp: 1567957979.925264>', 'BatchTimestamp<batch_index: 2600, timestamp: 1567958073.1785626>'], 'train_finish_time': 1567958884.6860347, 'avg_exp_per_second': 32.172065649795265}
Exception ignored in: <bound method Server.__del__ of <tensorflow.python.training.server_lib.Server object at 0x7f88b03d3f28>>
Traceback (most recent call last):
  File "/root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/training/server_lib.py", line 158, in __del__
AttributeError: 'NoneType' object has no attribute 'UnimplementedError'
