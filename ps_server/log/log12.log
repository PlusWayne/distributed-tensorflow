2019-09-08 23:11:10.276273: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1
2019-09-08 23:11:10.401445: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:04:00.0
2019-09-08 23:11:10.409915: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:10.412061: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:10.415430: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:10.417402: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:10.419942: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:10.423723: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:10.430678: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:10.439228: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:10.442971: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-09-08 23:11:10.457482: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2400160000 Hz
2019-09-08 23:11:10.458682: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55f38253fa60 executing computations on platform Host. Devices:
2019-09-08 23:11:10.458706: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version
2019-09-08 23:11:11.702228: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55f3825a2990 executing computations on platform CUDA. Devices:
2019-09-08 23:11:11.702265: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Tesla P40, Compute Capability 6.1
2019-09-08 23:11:11.704447: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:04:00.0
2019-09-08 23:11:11.704502: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:11.704521: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:11.704536: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:11.704552: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:11.704566: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:11.704581: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:11.704597: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:11.708519: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:11.708564: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:11.710990: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:11.711008: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:11.711015: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:11.715838: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 23080 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:04:00.0, compute capability: 6.1)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff5fb356940>>
I0908 23:11:11.721420 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff5fb356940>>
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
W0908 23:11:12.530613 140696906835776 deprecation.py:323] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
W0908 23:11:13.224364 140696906835776 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
W0908 23:11:16.788702 140696906835776 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
I0908 23:11:16.835756 140696906835776 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:16.835998 140696906835776 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:16.836073 140696906835776 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4f4286ac8>>
I0908 23:11:16.836764 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4f4286ac8>>
INFO:tensorflow:Starting standard TensorFlow server, target = 'grpc://9.73.165.16:1111', session_config= allow_soft_placement: true

I0908 23:11:16.836997 140696906835776 distribute_coordinator.py:438] Starting standard TensorFlow server, target = 'grpc://9.73.165.16:1111', session_config= allow_soft_placement: true

2019-09-08 23:11:16.840326: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla P40 major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:04:00.0
2019-09-08 23:11:16.840394: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:16.840414: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:16.840429: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:16.840443: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:16.840458: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:16.840473: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:16.840488: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:16.844910: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:16.844944: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:16.844954: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:16.844960: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:16.851691: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:worker/replica:0/task:11/device:GPU:0 with 23080 MB memory) -> physical GPU (device: 0, name: Tesla P40, pci bus id: 0000:04:00.0, compute capability: 6.1)
2019-09-08 23:11:16.853584: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job ps -> {0 -> 9.73.165.158:1111}
2019-09-08 23:11:16.853608: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job worker -> {0 -> 9.73.165.158:1112, 1 -> 9.73.165.158:1113, 2 -> 9.73.165.158:1114, 3 -> 9.73.136.185:1111, 4 -> 9.73.136.185:1112, 5 -> 9.73.136.185:1113, 6 -> 9.73.136.185:1114, 7 -> 9.73.169.29:1111, 8 -> 9.73.169.29:1112, 9 -> 9.73.169.29:1113, 10 -> 9.73.169.29:1114, 11 -> localhost:1111, 12 -> 9.73.165.16:1112, 13 -> 9.73.165.16:1113, 14 -> 9.73.165.16:1114}
2019-09-08 23:11:16.855926: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:365] Started server with target: grpc://localhost:1111
2019-09-08 23:11:16.855955: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:369] Server already started (target: grpc://localhost:1111)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4f4286fd0>>
I0908 23:11:16.856544 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4f4286fd0>>
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
I0908 23:11:17.543252 140696906835776 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:17.543491 140696906835776 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:17.543566 140696906835776 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440d8d0>>
I0908 23:11:17.544212 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440d8d0>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440ddd8>>
I0908 23:11:17.544857 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440ddd8>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0908 23:11:17.545159 140696906835776 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-08 23:11:19.036767: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:19.037170: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.765072 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.766271 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.767173 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.768087 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.769001 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.769904 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.770805 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.771771 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.772693 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:23.773595 140696906835776 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
2019-09-08 23:11:26.042001: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:26.042313: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

2019-09-08 23:11:32.452532: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:34.648927: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
INFO:tensorflow:BenchmarkMetric: {'global step':100, 'time_taken': 109.254544,'examples_per_second': 29.289400}
I0908 23:13:17.094406 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':100, 'time_taken': 109.254544,'examples_per_second': 29.289400}
INFO:tensorflow:BenchmarkMetric: {'global step':200, 'time_taken': 100.423620,'examples_per_second': 31.865014}
I0908 23:14:57.517986 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':200, 'time_taken': 100.423620,'examples_per_second': 31.865014}
INFO:tensorflow:BenchmarkMetric: {'global step':300, 'time_taken': 101.250423,'examples_per_second': 31.604806}
I0908 23:16:38.768415 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':300, 'time_taken': 101.250423,'examples_per_second': 31.604806}
INFO:tensorflow:BenchmarkMetric: {'global step':400, 'time_taken': 104.420779,'examples_per_second': 30.645242}
I0908 23:18:23.189232 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':400, 'time_taken': 104.420779,'examples_per_second': 30.645242}
INFO:tensorflow:BenchmarkMetric: {'global step':500, 'time_taken': 99.400675,'examples_per_second': 32.192940}
I0908 23:20:02.589879 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':500, 'time_taken': 99.400675,'examples_per_second': 32.192940}
INFO:tensorflow:BenchmarkMetric: {'global step':600, 'time_taken': 98.722339,'examples_per_second': 32.414143}
I0908 23:21:41.312202 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':600, 'time_taken': 98.722339,'examples_per_second': 32.414143}
INFO:tensorflow:BenchmarkMetric: {'global step':700, 'time_taken': 103.196356,'examples_per_second': 31.008847}
I0908 23:23:24.508565 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':700, 'time_taken': 103.196356,'examples_per_second': 31.008847}
INFO:tensorflow:BenchmarkMetric: {'global step':800, 'time_taken': 94.043086,'examples_per_second': 34.026957}
I0908 23:24:58.551643 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':800, 'time_taken': 94.043086,'examples_per_second': 34.026957}
INFO:tensorflow:BenchmarkMetric: {'global step':900, 'time_taken': 107.591656,'examples_per_second': 29.742083}
I0908 23:26:46.143362 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':900, 'time_taken': 107.591656,'examples_per_second': 29.742083}
INFO:tensorflow:BenchmarkMetric: {'global step':1000, 'time_taken': 103.316486,'examples_per_second': 30.972792}
I0908 23:28:29.459891 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1000, 'time_taken': 103.316486,'examples_per_second': 30.972792}
INFO:tensorflow:BenchmarkMetric: {'global step':1100, 'time_taken': 105.285700,'examples_per_second': 30.393491}
I0908 23:30:14.745486 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1100, 'time_taken': 105.285700,'examples_per_second': 30.393491}
INFO:tensorflow:BenchmarkMetric: {'global step':1200, 'time_taken': 98.075542,'examples_per_second': 32.627911}
I0908 23:31:52.821020 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1200, 'time_taken': 98.075542,'examples_per_second': 32.627911}
INFO:tensorflow:BenchmarkMetric: {'global step':1300, 'time_taken': 97.138477,'examples_per_second': 32.942662}
I0908 23:33:29.959508 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1300, 'time_taken': 97.138477,'examples_per_second': 32.942662}
INFO:tensorflow:BenchmarkMetric: {'global step':1400, 'time_taken': 98.265527,'examples_per_second': 32.564828}
I0908 23:35:08.225033 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1400, 'time_taken': 98.265527,'examples_per_second': 32.564828}
INFO:tensorflow:BenchmarkMetric: {'global step':1500, 'time_taken': 106.219008,'examples_per_second': 30.126435}
I0908 23:36:54.444099 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1500, 'time_taken': 106.219008,'examples_per_second': 30.126435}
INFO:tensorflow:BenchmarkMetric: {'global step':1600, 'time_taken': 100.512425,'examples_per_second': 31.836860}
I0908 23:38:34.956498 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1600, 'time_taken': 100.512425,'examples_per_second': 31.836860}
INFO:tensorflow:BenchmarkMetric: {'global step':1700, 'time_taken': 101.874395,'examples_per_second': 31.411230}
I0908 23:40:16.830862 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1700, 'time_taken': 101.874395,'examples_per_second': 31.411230}
INFO:tensorflow:BenchmarkMetric: {'global step':1800, 'time_taken': 104.540035,'examples_per_second': 30.610283}
I0908 23:42:01.370914 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1800, 'time_taken': 104.540035,'examples_per_second': 30.610283}
INFO:tensorflow:BenchmarkMetric: {'global step':1900, 'time_taken': 93.847194,'examples_per_second': 34.097983}
I0908 23:43:35.218110 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':1900, 'time_taken': 93.847194,'examples_per_second': 34.097983}
INFO:tensorflow:BenchmarkMetric: {'global step':2000, 'time_taken': 95.114341,'examples_per_second': 33.643717}
I0908 23:45:10.332427 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2000, 'time_taken': 95.114341,'examples_per_second': 33.643717}
INFO:tensorflow:BenchmarkMetric: {'global step':2100, 'time_taken': 101.355580,'examples_per_second': 31.572016}
I0908 23:46:51.687999 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2100, 'time_taken': 101.355580,'examples_per_second': 31.572016}
INFO:tensorflow:BenchmarkMetric: {'global step':2200, 'time_taken': 98.671180,'examples_per_second': 32.430949}
I0908 23:48:30.359184 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2200, 'time_taken': 98.671180,'examples_per_second': 32.430949}
INFO:tensorflow:BenchmarkMetric: {'global step':2300, 'time_taken': 97.659124,'examples_per_second': 32.767036}
I0908 23:50:08.018379 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2300, 'time_taken': 97.659124,'examples_per_second': 32.767036}
INFO:tensorflow:BenchmarkMetric: {'global step':2400, 'time_taken': 99.319957,'examples_per_second': 32.219104}
I0908 23:51:47.338272 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2400, 'time_taken': 99.319957,'examples_per_second': 32.219104}
INFO:tensorflow:BenchmarkMetric: {'global step':2500, 'time_taken': 96.212193,'examples_per_second': 33.259818}
I0908 23:53:23.550466 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2500, 'time_taken': 96.212193,'examples_per_second': 33.259818}
INFO:tensorflow:BenchmarkMetric: {'global step':2600, 'time_taken': 91.867254,'examples_per_second': 34.832869}
I0908 23:54:55.417729 140696906835776 keras_utils.py:85] BenchmarkMetric: {'global step':2600, 'time_taken': 91.867254,'examples_per_second': 34.832869}
WARNING:tensorflow:Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
W0909 00:12:33.718666 140696906835776 training_arrays.py:330] Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
INFO:tensorflow:BenchmarkMetric: {'epoch':0, 'time_taken': 3665.882195}
I0909 00:12:33.721935 140696906835776 keras_utils.py:93] BenchmarkMetric: {'epoch':0, 'time_taken': 3665.882195}
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
I0909 00:12:33.723567 140696906835776 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0909 00:12:33.723718 140696906835776 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0909 00:12:33.723797 140696906835776 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440d3c8>>
I0909 00:12:33.724558 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4d440d3c8>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4482a8d30>>
I0909 00:12:33.725293 140696906835776 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 11, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:11/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7ff4482a8d30>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0909 00:12:33.725624 140696906835776 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-09 00:12:34.623632: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-09 00:12:34.623932: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

WARNING:tensorflow:Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
W0909 00:23:51.877673 140696906835776 training_arrays.py:314] Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
I0909 00:23:51.879770 140696906835776 resnet_imagenet_main_dist_ps_12.py:293] Run stats:
{'accuracy_top_1': 0.007017024792730808, 'eval_loss': 11.856006130824168, 'loss': 12.127687297004936, 'training_accuracy_top_1': 0.0063183060847222805, 'step_timestamp_log': ['BatchTimestamp<batch_index: 1, timestamp: 1567955487.8397467>', 'BatchTimestamp<batch_index: 100, timestamp: 1567955597.0942905>', 'BatchTimestamp<batch_index: 200, timestamp: 1567955697.5179102>', 'BatchTimestamp<batch_index: 300, timestamp: 1567955798.768333>', 'BatchTimestamp<batch_index: 400, timestamp: 1567955903.1891117>', 'BatchTimestamp<batch_index: 500, timestamp: 1567956002.5897865>', 'BatchTimestamp<batch_index: 600, timestamp: 1567956101.3121252>', 'BatchTimestamp<batch_index: 700, timestamp: 1567956204.508481>', 'BatchTimestamp<batch_index: 800, timestamp: 1567956298.551567>', 'BatchTimestamp<batch_index: 900, timestamp: 1567956406.1432228>', 'BatchTimestamp<batch_index: 1000, timestamp: 1567956509.4597085>', 'BatchTimestamp<batch_index: 1100, timestamp: 1567956614.7454085>', 'BatchTimestamp<batch_index: 1200, timestamp: 1567956712.8209503>', 'BatchTimestamp<batch_index: 1300, timestamp: 1567956809.9594276>', 'BatchTimestamp<batch_index: 1400, timestamp: 1567956908.2249544>', 'BatchTimestamp<batch_index: 1500, timestamp: 1567957014.443962>', 'BatchTimestamp<batch_index: 1600, timestamp: 1567957114.9563875>', 'BatchTimestamp<batch_index: 1700, timestamp: 1567957216.8307822>', 'BatchTimestamp<batch_index: 1800, timestamp: 1567957321.370817>', 'BatchTimestamp<batch_index: 1900, timestamp: 1567957415.2180111>', 'BatchTimestamp<batch_index: 2000, timestamp: 1567957510.3323522>', 'BatchTimestamp<batch_index: 2100, timestamp: 1567957611.6879323>', 'BatchTimestamp<batch_index: 2200, timestamp: 1567957710.3591127>', 'BatchTimestamp<batch_index: 2300, timestamp: 1567957808.018237>', 'BatchTimestamp<batch_index: 2400, timestamp: 1567957907.3381944>', 'BatchTimestamp<batch_index: 2500, timestamp: 1567958003.5503876>', 'BatchTimestamp<batch_index: 2600, timestamp: 1567958095.4176412>'], 'train_finish_time': 1567959153.7224085, 'avg_exp_per_second': 31.907004648685017}
Exception ignored in: <bound method Server.__del__ of <tensorflow.python.training.server_lib.Server object at 0x7ff4f42d4fd0>>
Traceback (most recent call last):
  File "/root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/training/server_lib.py", line 158, in __del__
AttributeError: 'NoneType' object has no attribute 'UnimplementedError'
