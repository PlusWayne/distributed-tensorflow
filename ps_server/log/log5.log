/root/anaconda3/lib/python3.6/site-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
2019-09-08 23:11:02.281443: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcuda.so.1
2019-09-08 23:11:02.710909: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla M40 24GB major: 5 minor: 2 memoryClockRate(GHz): 1.112
pciBusID: 0000:84:00.0
2019-09-08 23:11:02.711192: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:02.712562: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:02.713750: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:02.714037: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:02.715616: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:02.716793: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:02.720600: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:02.725697: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:02.726035: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
2019-09-08 23:11:02.734779: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2399930000 Hz
2019-09-08 23:11:02.736110: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x564cd5dd5520 executing computations on platform Host. Devices:
2019-09-08 23:11:02.736131: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Host, Default Version
2019-09-08 23:11:03.452433: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x564cd5e38430 executing computations on platform CUDA. Devices:
2019-09-08 23:11:03.452462: I tensorflow/compiler/xla/service/service.cc:175]   StreamExecutor device (0): Tesla M40 24GB, Compute Capability 5.2
2019-09-08 23:11:03.456262: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla M40 24GB major: 5 minor: 2 memoryClockRate(GHz): 1.112
pciBusID: 0000:84:00.0
2019-09-08 23:11:03.456308: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:03.456326: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:03.456339: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:03.456364: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:03.456377: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:03.456393: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:03.456406: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:03.460822: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:03.460875: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:03.465054: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:03.465082: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:03.465088: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:03.471764: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 23151 MB memory) -> physical GPU (device: 0, name: Tesla M40 24GB, pci bus id: 0000:84:00.0, compute capability: 5.2)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71bd640c50>>
I0908 23:11:03.474700 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71bd640c50>>
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
W0908 23:11:04.253641 140129062979392 deprecation.py:323] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/image_ops_impl.py:2487: sample_distorted_bounding_box (from tensorflow.python.ops.image_ops_impl) is deprecated and will be removed in a future version.
Instructions for updating:
`seed2` arg is deprecated.Use sample_distorted_bounding_box_v2 instead.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
W0908 23:11:04.907954 140129062979392 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
W0908 23:11:08.395390 140129062979392 deprecation.py:506] From /root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/keras/initializers.py:143: calling RandomNormal.__init__ (from tensorflow.python.ops.init_ops) with dtype is deprecated and will be removed in a future version.
Instructions for updating:
Call initializer instance with the dtype argument instead of passing it to the constructor
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
I0908 23:11:08.440461 140129062979392 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:08.440598 140129062979392 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:08.440667 140129062979392 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71046e6630>>
I0908 23:11:08.441286 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71046e6630>>
INFO:tensorflow:Starting standard TensorFlow server, target = 'grpc://9.73.136.185:1112', session_config= allow_soft_placement: true

I0908 23:11:08.441498 140129062979392 distribute_coordinator.py:438] Starting standard TensorFlow server, target = 'grpc://9.73.136.185:1112', session_config= allow_soft_placement: true

2019-09-08 23:11:08.444421: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1618] Found device 0 with properties: 
name: Tesla M40 24GB major: 5 minor: 2 memoryClockRate(GHz): 1.112
pciBusID: 0000:84:00.0
2019-09-08 23:11:08.444481: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudart.so.10.0
2019-09-08 23:11:08.444499: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:08.444512: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcufft.so.10.0
2019-09-08 23:11:08.444526: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcurand.so.10.0
2019-09-08 23:11:08.444538: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusolver.so.10.0
2019-09-08 23:11:08.444550: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcusparse.so.10.0
2019-09-08 23:11:08.444566: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
2019-09-08 23:11:08.448976: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1746] Adding visible gpu devices: 0
2019-09-08 23:11:08.449010: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1159] Device interconnect StreamExecutor with strength 1 edge matrix:
2019-09-08 23:11:08.449020: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1165]      0 
2019-09-08 23:11:08.449026: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1178] 0:   N 
2019-09-08 23:11:08.454365: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1304] Created TensorFlow device (/job:worker/replica:0/task:4/device:GPU:0 with 23151 MB memory) -> physical GPU (device: 0, name: Tesla M40 24GB, pci bus id: 0000:84:00.0, compute capability: 5.2)
2019-09-08 23:11:08.456180: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job ps -> {0 -> 9.73.165.158:1111}
2019-09-08 23:11:08.456204: I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:258] Initialize GrpcChannelCache for job worker -> {0 -> 9.73.165.158:1112, 1 -> 9.73.165.158:1113, 2 -> 9.73.165.158:1114, 3 -> 9.73.136.185:1111, 4 -> localhost:1112, 5 -> 9.73.136.185:1113, 6 -> 9.73.136.185:1114, 7 -> 9.73.169.29:1111, 8 -> 9.73.169.29:1112, 9 -> 9.73.169.29:1113, 10 -> 9.73.169.29:1114, 11 -> 9.73.165.16:1111, 12 -> 9.73.165.16:1112, 13 -> 9.73.165.16:1113, 14 -> 9.73.165.16:1114}
2019-09-08 23:11:08.458535: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:365] Started server with target: grpc://localhost:1112
2019-09-08 23:11:08.458561: I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:369] Server already started (target: grpc://localhost:1112)
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71046e6160>>
I0908 23:11:08.459087 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71046e6160>>
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
I0908 23:11:09.122605 140129062979392 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0908 23:11:09.122807 140129062979392 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0908 23:11:09.122878 140129062979392 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71040db6a0>>
I0908 23:11:09.123465 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71040db6a0>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71040db780>>
I0908 23:11:09.124094 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f71040db780>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0908 23:11:09.124393 140129062979392 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-08 23:11:10.602998: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:10.603321: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.205668 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.206993 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.207879 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.208766 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.209669 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.210547 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.211429 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.212313 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.213205 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
INFO:tensorflow:Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
I0908 23:11:15.214079 140129062979392 cross_device_ops.py:427] Reduce to /device:CPU:0 then broadcast to ('/job:ps/replica:0/task:0/device:CPU:0',).
2019-09-08 23:11:18.575946: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-08 23:11:18.576262: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

2019-09-08 23:11:24.388920: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcublas.so.10.0
2019-09-08 23:11:26.554875: I tensorflow/stream_executor/platform/default/dso_loader.cc:44] Successfully opened dynamic library libcudnn.so.7
INFO:tensorflow:BenchmarkMetric: {'global step':100, 'time_taken': 108.449577,'examples_per_second': 29.506800}
I0908 23:13:08.828258 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':100, 'time_taken': 108.449577,'examples_per_second': 29.506800}
INFO:tensorflow:BenchmarkMetric: {'global step':200, 'time_taken': 106.971751,'examples_per_second': 29.914440}
I0908 23:14:55.799933 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':200, 'time_taken': 106.971751,'examples_per_second': 29.914440}
INFO:tensorflow:BenchmarkMetric: {'global step':300, 'time_taken': 104.289424,'examples_per_second': 30.683840}
I0908 23:16:40.089383 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':300, 'time_taken': 104.289424,'examples_per_second': 30.683840}
INFO:tensorflow:BenchmarkMetric: {'global step':400, 'time_taken': 101.293253,'examples_per_second': 31.591443}
I0908 23:18:21.382651 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':400, 'time_taken': 101.293253,'examples_per_second': 31.591443}
INFO:tensorflow:BenchmarkMetric: {'global step':500, 'time_taken': 111.254389,'examples_per_second': 28.762910}
I0908 23:20:12.637018 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':500, 'time_taken': 111.254389,'examples_per_second': 28.762910}
INFO:tensorflow:BenchmarkMetric: {'global step':600, 'time_taken': 107.766719,'examples_per_second': 29.693768}
I0908 23:22:00.403743 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':600, 'time_taken': 107.766719,'examples_per_second': 29.693768}
INFO:tensorflow:BenchmarkMetric: {'global step':700, 'time_taken': 104.776216,'examples_per_second': 30.541283}
I0908 23:23:45.179944 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':700, 'time_taken': 104.776216,'examples_per_second': 30.541283}
INFO:tensorflow:BenchmarkMetric: {'global step':800, 'time_taken': 106.590631,'examples_per_second': 30.021400}
I0908 23:25:31.770590 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':800, 'time_taken': 106.590631,'examples_per_second': 30.021400}
INFO:tensorflow:BenchmarkMetric: {'global step':900, 'time_taken': 105.074630,'examples_per_second': 30.454545}
I0908 23:27:16.845219 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':900, 'time_taken': 105.074630,'examples_per_second': 30.454545}
INFO:tensorflow:BenchmarkMetric: {'global step':1000, 'time_taken': 99.108382,'examples_per_second': 32.287885}
I0908 23:28:55.953597 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1000, 'time_taken': 99.108382,'examples_per_second': 32.287885}
INFO:tensorflow:BenchmarkMetric: {'global step':1100, 'time_taken': 97.760613,'examples_per_second': 32.733019}
I0908 23:30:33.714204 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1100, 'time_taken': 97.760613,'examples_per_second': 32.733019}
INFO:tensorflow:BenchmarkMetric: {'global step':1200, 'time_taken': 109.717500,'examples_per_second': 29.165812}
I0908 23:32:23.431713 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1200, 'time_taken': 109.717500,'examples_per_second': 29.165812}
INFO:tensorflow:BenchmarkMetric: {'global step':1300, 'time_taken': 100.177893,'examples_per_second': 31.943175}
I0908 23:34:03.609610 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1300, 'time_taken': 100.177893,'examples_per_second': 31.943175}
INFO:tensorflow:BenchmarkMetric: {'global step':1400, 'time_taken': 99.836594,'examples_per_second': 32.052375}
I0908 23:35:43.446196 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1400, 'time_taken': 99.836594,'examples_per_second': 32.052375}
INFO:tensorflow:BenchmarkMetric: {'global step':1500, 'time_taken': 98.218523,'examples_per_second': 32.580413}
I0908 23:37:21.664720 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1500, 'time_taken': 98.218523,'examples_per_second': 32.580413}
INFO:tensorflow:BenchmarkMetric: {'global step':1600, 'time_taken': 106.853175,'examples_per_second': 29.947636}
I0908 23:39:08.517899 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1600, 'time_taken': 106.853175,'examples_per_second': 29.947636}
INFO:tensorflow:BenchmarkMetric: {'global step':1700, 'time_taken': 97.514561,'examples_per_second': 32.815612}
I0908 23:40:46.032456 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1700, 'time_taken': 97.514561,'examples_per_second': 32.815612}
INFO:tensorflow:BenchmarkMetric: {'global step':1800, 'time_taken': 104.284131,'examples_per_second': 30.685397}
I0908 23:42:30.316599 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1800, 'time_taken': 104.284131,'examples_per_second': 30.685397}
INFO:tensorflow:BenchmarkMetric: {'global step':1900, 'time_taken': 97.330138,'examples_per_second': 32.877792}
I0908 23:44:07.646771 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':1900, 'time_taken': 97.330138,'examples_per_second': 32.877792}
INFO:tensorflow:BenchmarkMetric: {'global step':2000, 'time_taken': 105.612051,'examples_per_second': 30.299573}
I0908 23:45:53.258761 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2000, 'time_taken': 105.612051,'examples_per_second': 30.299573}
INFO:tensorflow:BenchmarkMetric: {'global step':2100, 'time_taken': 97.305536,'examples_per_second': 32.886104}
I0908 23:47:30.564296 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2100, 'time_taken': 97.305536,'examples_per_second': 32.886104}
INFO:tensorflow:BenchmarkMetric: {'global step':2200, 'time_taken': 102.571233,'examples_per_second': 31.197831}
I0908 23:49:13.135544 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2200, 'time_taken': 102.571233,'examples_per_second': 31.197831}
INFO:tensorflow:BenchmarkMetric: {'global step':2300, 'time_taken': 97.538923,'examples_per_second': 32.807416}
I0908 23:50:50.674451 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2300, 'time_taken': 97.538923,'examples_per_second': 32.807416}
INFO:tensorflow:BenchmarkMetric: {'global step':2400, 'time_taken': 101.285361,'examples_per_second': 31.593904}
I0908 23:52:31.959815 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2400, 'time_taken': 101.285361,'examples_per_second': 31.593904}
INFO:tensorflow:BenchmarkMetric: {'global step':2500, 'time_taken': 97.269206,'examples_per_second': 32.898387}
I0908 23:54:09.229033 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2500, 'time_taken': 97.269206,'examples_per_second': 32.898387}
INFO:tensorflow:BenchmarkMetric: {'global step':2600, 'time_taken': 82.438220,'examples_per_second': 38.816947}
I0908 23:55:31.667273 140129062979392 keras_utils.py:85] BenchmarkMetric: {'global step':2600, 'time_taken': 82.438220,'examples_per_second': 38.816947}
WARNING:tensorflow:Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
W0909 00:07:22.295578 140129062979392 training_arrays.py:330] Your dataset iterator ran out of data; interrupting training. Make sure that your iterator can generate at least `validation_steps * epochs` batches (in this case, 1562 batches). You may need touse the repeat() function when building your dataset.
INFO:tensorflow:BenchmarkMetric: {'epoch':0, 'time_taken': 3361.920183}
I0909 00:07:22.298668 140129062979392 keras_utils.py:93] BenchmarkMetric: {'epoch':0, 'time_taken': 3361.920183}
INFO:tensorflow:Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
I0909 00:07:22.299943 140129062979392 distribute_coordinator.py:776] Running Distribute Coordinator with mode = 'independent_worker', cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, environment = None, rpc_layer = 'grpc'
WARNING:tensorflow:`eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
W0909 00:07:22.300064 140129062979392 distribute_coordinator.py:825] `eval_fn` is not passed in. The `worker_fn` will be used if an "evaluator" task exists in the cluster.
WARNING:tensorflow:`eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
W0909 00:07:22.300134 140129062979392 distribute_coordinator.py:829] `eval_strategy` is not passed in. No distribution strategy will be used for evaluation.
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f70484b1550>>
I0909 00:07:22.300788 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f70484b1550>>
INFO:tensorflow:Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f704846de48>>
I0909 00:07:22.301524 140129062979392 parameter_server_strategy.py:250] Multi-worker ParameterServerStrategy with cluster_spec = {'ps': ['9.73.165.158:1111'], 'worker': ['9.73.165.158:1112', '9.73.165.158:1113', '9.73.165.158:1114', '9.73.136.185:1111', '9.73.136.185:1112', '9.73.136.185:1113', '9.73.136.185:1114', '9.73.169.29:1111', '9.73.169.29:1112', '9.73.169.29:1113', '9.73.169.29:1114', '9.73.165.16:1111', '9.73.165.16:1112', '9.73.165.16:1113', '9.73.165.16:1114']}, task_type = 'worker', task_id = 4, num_ps_replicas = 1, is_chief = False, device_map = ReplicaDeviceMap(['/job:worker/replica:0/task:4/device:GPU:0']), variable_device = <bound method _ReplicaDeviceChooser.device_function of <tensorflow.python.training.device_setter._ReplicaDeviceChooser object at 0x7f704846de48>>
WARNING:tensorflow:ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
W0909 00:07:22.301855 140129062979392 distributed_training_utils.py:1163] ModelCheckpoint callback is not provided. Workers will need to restart training if any fails.
2019-09-09 00:07:23.310976: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorFromStringHandle' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorFromStringHandle}}
	.  Registered:  device='CPU'

2019-09-09 00:07:23.312000: W tensorflow/core/grappler/utils/graph_view.cc:830] No registered 'MultiDeviceIteratorGetNextFromShard' OpKernel for GPU devices compatible with node {{node MultiDeviceIteratorGetNextFromShard}}
	.  Registered:  device='CPU'

WARNING:tensorflow:Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
W0909 00:17:44.667793 140129062979392 training_arrays.py:314] Your dataset ran out of data; interrupting training. Make sure that your dataset can generate at least `steps * epochs` batches (in this case, 1562 batches). You may need to use the repeat() function when building your dataset.
I0909 00:17:44.670057 140129062979392 resnet_imagenet_main_dist_ps_5.py:293] Run stats:
{'accuracy_top_1': 0.007158373016864061, 'eval_loss': 11.856005813339761, 'loss': 12.121530657539925, 'training_accuracy_top_1': 0.005635245703160763, 'step_timestamp_log': ['BatchTimestamp<batch_index: 1, timestamp: 1567955480.378553>', 'BatchTimestamp<batch_index: 100, timestamp: 1567955588.82813>', 'BatchTimestamp<batch_index: 200, timestamp: 1567955695.7998815>', 'BatchTimestamp<batch_index: 300, timestamp: 1567955800.0893059>', 'BatchTimestamp<batch_index: 400, timestamp: 1567955901.3825593>', 'BatchTimestamp<batch_index: 500, timestamp: 1567956012.636948>', 'BatchTimestamp<batch_index: 600, timestamp: 1567956120.4036672>', 'BatchTimestamp<batch_index: 700, timestamp: 1567956225.1798828>', 'BatchTimestamp<batch_index: 800, timestamp: 1567956331.770514>', 'BatchTimestamp<batch_index: 900, timestamp: 1567956436.8451436>', 'BatchTimestamp<batch_index: 1000, timestamp: 1567956535.953525>', 'BatchTimestamp<batch_index: 1100, timestamp: 1567956633.714138>', 'BatchTimestamp<batch_index: 1200, timestamp: 1567956743.4316378>', 'BatchTimestamp<batch_index: 1300, timestamp: 1567956843.6095304>', 'BatchTimestamp<batch_index: 1400, timestamp: 1567956943.4461248>', 'BatchTimestamp<batch_index: 1500, timestamp: 1567957041.6646473>', 'BatchTimestamp<batch_index: 1600, timestamp: 1567957148.5178225>', 'BatchTimestamp<batch_index: 1700, timestamp: 1567957246.032384>', 'BatchTimestamp<batch_index: 1800, timestamp: 1567957350.3165147>', 'BatchTimestamp<batch_index: 1900, timestamp: 1567957447.6466527>', 'BatchTimestamp<batch_index: 2000, timestamp: 1567957553.2587035>', 'BatchTimestamp<batch_index: 2100, timestamp: 1567957650.5642395>', 'BatchTimestamp<batch_index: 2200, timestamp: 1567957753.135472>', 'BatchTimestamp<batch_index: 2300, timestamp: 1567957850.674395>', 'BatchTimestamp<batch_index: 2400, timestamp: 1567957951.9597557>', 'BatchTimestamp<batch_index: 2500, timestamp: 1567958049.2289612>', 'BatchTimestamp<batch_index: 2600, timestamp: 1567958131.6671813>'], 'train_finish_time': 1567958842.2989945, 'avg_exp_per_second': 31.3809666403992}
Exception ignored in: <bound method Server.__del__ of <tensorflow.python.training.server_lib.Server object at 0x7f71046e6518>>
Traceback (most recent call last):
  File "/root/anaconda3/lib/python3.6/site-packages/tensorflow_core/python/training/server_lib.py", line 158, in __del__
AttributeError: 'NoneType' object has no attribute 'UnimplementedError'
